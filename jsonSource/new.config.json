{
    "template": {
        "div": {
            "class": "grade-info-wrapper",
            "v-loading": "loading",
            "div": [
                {
                    "undefined": "我的班级",
                    "class": "grade-info-title",
                    "span": {
                        "style": "color: black;",
                        "@click": "goBack",
                        "i": {
                            "class": "el-icon-back"
                        }
                    }
                },
                {
                    "class": "grade-info-top",
                    "div": {
                        "class": "grade-info-content",
                        "div": [
                            {
                                "undefined": "{{ className }}（总人数：{{ totalNum }}）",
                                "class": "info-top"
                            },
                            {
                                "class": "info-bottom",
                                "div": [
                                    {
                                        "undefined": "开课日期：{{ time }}",
                                        "class": "info-bottom-progress",
                                        "v-if": "Number(class_status) == 1"
                                    },
                                    {
                                        "undefined": "今日进度：{{ time }}",
                                        "class": "info-bottom-progress",
                                        "v-else-if": "Number(class_status) == 2 || Number(class_status) == 3"
                                    },
                                    {
                                        "class": "info-bottom-btn",
                                        "v-if": "subject_id === 3",
                                        "img": {
                                            ":src": "planImgUrl",
                                            "alt": true
                                        },
                                        "el-button": {
                                            "undefined": "学习计划",
                                            "type": "text",
                                            "@click": "handleCheckLearningPlan(true)"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    "rate-block": [
                        {
                            "title": "加V率",
                            ":rate": "addFriendRate",
                            ":num": "addFriendNum",
                            ":total": "totalNum"
                        },
                        {
                            "title": "进群率",
                            ":rate": "addGroupRate",
                            ":num": "addGroupNum",
                            ":total": "totalNum"
                        },
                        {
                            "title": "完课率",
                            ":rate": "finishRate"
                        },
                        {
                            "title": "点评率",
                            ":rate": "remarkRate"
                        },
                        {
                            "v-show": "course_type == 1 && class_status !== 1",
                            "title": "转化率",
                            ":rate": "transferRate",
                            ":num": "transferNum",
                            ":total": "transferTotal"
                        }
                    ]
                },
                {
                    "class": "grade-info-list-container",
                    "el-tabs": {
                        "v-model": "activeTab",
                        "el-tab-pane": [
                            {
                                "label": "讲次列表",
                                "name": "curList",
                                "div": {
                                    "class": "grade-info_tab-container",
                                    "div": [
                                        {
                                            "class": "grade-info_cur_title-container",
                                            "div": {
                                                "class": "grade-info_cur_sel-container",
                                                "selector": {
                                                    "v-on:update-selector": "handleDateVal",
                                                    ":weekDatas": "lessonDate"
                                                },
                                                "div": [
                                                    {
                                                        "undefined": "完课率: {{ finish_rate === \"\" ? 0 : finish_rate }}%",
                                                        "class": "grade-info_cur_sel-finish-rate"
                                                    },
                                                    {
                                                        "undefined": "点评率: {{ remark_rate === \"\" ? 0 : remark_rate }}%",
                                                        "class": "grade-info_cur_sel-finish-rate"
                                                    }
                                                ]
                                            },
                                            "el-button": [
                                                {
                                                    "undefined": "思维挑战表扬榜",
                                                    "v-if": "+subject_id === 2 && +dateVal !== 5",
                                                    "type": "text",
                                                    "@click": "handleExportPraiseList('math')",
                                                    "span": {
                                                        "class": "grade-info_cur_sel-finish-icon"
                                                    }
                                                },
                                                {
                                                    "undefined": "导出本课次完课榜单",
                                                    "v-if": "+subject_id === 1 || +subject_id === 3",
                                                    "type": "text",
                                                    "@click": "handleExportPraiseList('')",
                                                    "span": {
                                                        "class": "grade-info_cur_sel-finish-icon"
                                                    }
                                                }
                                            ]
                                        },
                                        {
                                            "class": "list-search",
                                            "el-input": {
                                                "size": "mini",
                                                "class": "list-input",
                                                "placeholder": "输入学员ID、姓名、手机号后4位进行查询",
                                                "suffix-icon": "el-icon-search",
                                                "v-model.trim": "searchStuList",
                                                "@input": "filterStuList"
                                            },
                                            "el-button": [
                                                {
                                                    "undefined": "未完课({{ noFinishList }})",
                                                    "size": "mini",
                                                    "class": "list-button",
                                                    "type": "primary",
                                                    "plain": true,
                                                    ":disabled": "Number(noFinishList) == 0",
                                                    "@click": "lessonList = noFinishList"
                                                },
                                                {
                                                    "undefined": "未点评({{ noCommentList }})",
                                                    "size": "mini",
                                                    "class": "list-button",
                                                    "type": "primary",
                                                    "plain": true,
                                                    ":disabled": "Number(noCommentList) == 0",
                                                    "@click": "lessonList = noCommentList"
                                                },
                                                {
                                                    "undefined": "重置",
                                                    "size": "mini",
                                                    "type": "primary",
                                                    "plain": true,
                                                    "@click": "lessonList = lessonListBase;                   searchStuList = '';"
                                                }
                                            ]
                                        },
                                        {
                                            "class": "list-table-wrapper",
                                            "el-table": {
                                                "size": "mini",
                                                "ref": "curListTable",
                                                ":data": "lessonList",
                                                "v-loading": "lessonLoading",
                                                "height": "100%",
                                                "style": "width: 100%",
                                                ":header-cell-style": "getRowClass",
                                                "@selection-change": "handleLessonSelectionChange",
                                                "el-table-column": [
                                                    {
                                                        "type": "selection",
                                                        "width": 55
                                                    },
                                                    {
                                                        "prop": "id",
                                                        "label": "ID",
                                                        "width": 120,
                                                        "template": {
                                                            "undefined": "{{ scope.row.id }}",
                                                            "slot-scope": "scope"
                                                        }
                                                    },
                                                    {
                                                        "prop": "name",
                                                        "label": "学员姓名",
                                                        "template": {
                                                            "slot-scope": "scope",
                                                            "span": {
                                                                "undefined": "{{ scope.row.name }}",
                                                                "@click": "handleJump(scope.row.id, scope.row.name)",
                                                                "style": "cursor: pointer; color: #639bff;"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "prop": "mobile",
                                                        "label": "手机号码",
                                                        "template": {
                                                            "slot-scope": "scope",
                                                            "div": {
                                                                "class": "phone-class",
                                                                "span": {
                                                                    "undefined": "{{ scope.row.mobile }}",
                                                                    "el-popover": {
                                                                        "placement": "bottom",
                                                                        "width": 200,
                                                                        "trigger": "click",
                                                                        "content": "studentMobile",
                                                                        "@show": "getPhoneNumber(scope.row.id)",
                                                                        "div": {
                                                                            "undefined": "{{ currentPhoneNumber }}",
                                                                            "class": "bubble"
                                                                        },
                                                                        "el-button": {
                                                                            "undefined": "查看",
                                                                            "class": "table-scan",
                                                                            "type": "text",
                                                                            "slot": "reference",
                                                                            "v-show": "scopv-showe.row.mobile !== '无'"
                                                                        }
                                                                    },
                                                                    "outbound-item": {
                                                                        ":isShow": "scope.row.mobile",
                                                                        ":biz_stu_id": "scope.row.id",
                                                                        ":width": 20,
                                                                        ":bottom": 3
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "prop": "process",
                                                        "label": "课程进度",
                                                        "show-overflow-tooltip": true,
                                                        "width": 116
                                                    },
                                                    {
                                                        "prop": "finish",
                                                        "label": "完课",
                                                        "show-overflow-tooltip": true,
                                                        "width": 120,
                                                        "template": {
                                                            "slot-scope": "scope",
                                                            "span": {
                                                                "undefined": "{{ scope.row.finish }}",
                                                                ":style": "scope.row.finish === '未完课' ? 'color: #E02727' : ''"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "prop": "score",
                                                        "label": "课堂评分",
                                                        "show-overflow-tooltip": true,
                                                        "width": 120
                                                    },
                                                    {
                                                        "prop": "report",
                                                        "label": "报告点评",
                                                        "show-overflow-tooltip": true,
                                                        "width": 120,
                                                        "template": {
                                                            "slot-scope": "scope",
                                                            "span": [
                                                                {
                                                                    "undefined": "-",
                                                                    "v-if": "scope.row.report === ''"
                                                                },
                                                                {
                                                                    "undefined": "去点评",
                                                                    "v-else-if": "scope.row.is_remark === 0",
                                                                    "@click": "handleCheckReport(scope.row, true)",
                                                                    "style": "cursor: pointer; color: #639bff;"
                                                                },
                                                                {
                                                                    "undefined": "查看",
                                                                    "v-else": true,
                                                                    "@click": "handleCheckReport(scope.row, false)",
                                                                    "style": "cursor: pointer; color: #639bff;"
                                                                }
                                                            ]
                                                        }
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "class": "grade-info-bottom",
                                            "span": {
                                                "undefined": "已选择{{ selectedLessons }}项",
                                                "class": "info-title"
                                            },
                                            "el-button": {
                                                "undefined": "列表导出",
                                                "size": "mini",
                                                "@click.native": "exportLessonExcel"
                                            }
                                        }
                                    ]
                                }
                            },
                            {
                                "label": "学员列表",
                                "name": "stuList",
                                "div": {
                                    "class": "grade-info_tab-container",
                                    "el-radio-group": {
                                        "v-model": "stuType",
                                        "size": "mini",
                                        "el-radio-button": [
                                            {
                                                "undefined": "在读({{\r\n                (tableDataStore) || 0\r\n                }})",
                                                ":disabled": "!tableDataStore",
                                                "label": 1
                                            },
                                            {
                                                "undefined": "调入({{\r\n                (tableDataStore) || 0\r\n                }})",
                                                ":disabled": "!tableDataStore",
                                                "label": 2
                                            },
                                            {
                                                "undefined": "调出({{\r\n                (tableDataStore) || 0\r\n                }})",
                                                ":disabled": "!tableDataStore",
                                                "label": 3
                                            },
                                            {
                                                "undefined": "退费({{\r\n                (tableDataStore) || 0\r\n                }})",
                                                ":disabled": "!tableDataStore",
                                                "label": 4
                                            }
                                        ]
                                    },
                                    "div": [
                                        {
                                            "class": "list-search",
                                            "el-input": {
                                                "size": "mini",
                                                "class": "list-input",
                                                "placeholder": "输入学员ID、姓名、手机号后4位进行查询",
                                                "suffix-icon": "el-icon-search",
                                                "v-model.trim": "searchInput",
                                                "@input": "filterList('name', $event)"
                                            },
                                            "el-button": [
                                                {
                                                    "undefined": "未绑定({{ noBind }})",
                                                    "v-if": "+stuType === 1",
                                                    "size": "mini",
                                                    "class": "list-button",
                                                    "type": "primary",
                                                    "plain": true,
                                                    ":disabled": "Number(noBind) == 0",
                                                    "@click": "filterList('bind', 0)"
                                                },
                                                {
                                                    "undefined": "未进群({{ noGroup }})",
                                                    "v-if": "+stuType === 1",
                                                    "size": "mini",
                                                    "type": "primary",
                                                    "plain": true,
                                                    ":disabled": "Number(noGroup) == 0",
                                                    "@click": "filterList('group', 0)"
                                                },
                                                {
                                                    "undefined": "未转化({{ noTransfer }})",
                                                    "v-if": "+stuType === 1",
                                                    "size": "mini",
                                                    "type": "primary",
                                                    "v-show": "course_type == 1 && class_status !== 1",
                                                    "plain": true,
                                                    ":disabled": "Number(noTransfer) == 0",
                                                    "@click": "filterList('translate', 0)"
                                                },
                                                {
                                                    "undefined": "重置",
                                                    "size": "mini",
                                                    "type": "primary",
                                                    "plain": true,
                                                    "@click": "filterList('reset', '')"
                                                }
                                            ]
                                        },
                                        {
                                            "class": "list-table-wrapper",
                                            "el-table": {
                                                "size": "mini",
                                                "ref": "stuListTable",
                                                "v-loading": "stuLstLoading",
                                                ":data": "tableData",
                                                ":key": "stuType",
                                                "height": "100%",
                                                "style": "width: 100%",
                                                ":header-cell-style": "getRowClass",
                                                "@selection-change": "handleSelectionChange",
                                                "el-table-column": [
                                                    {
                                                        "type": "selection",
                                                        "width": 55
                                                    },
                                                    {
                                                        "v-if": "+cloList === 1",
                                                        "prop": "id",
                                                        "label": "ID",
                                                        "width": 120
                                                    },
                                                    {
                                                        "v-if": "+cloList === 1",
                                                        "prop": "name",
                                                        "label": "学员姓名",
                                                        "template": {
                                                            "slot-scope": "scope",
                                                            "span": {
                                                                "undefined": "{{ scope.row.name || scope.row.hide_mobile }}",
                                                                "@click": "handleJump(scope.row.biz_stu_id, scope.row.stu_name)",
                                                                "style": "cursor: pointer; color: #639bff;",
                                                                "el-tag": {
                                                                    "undefined": "调入",
                                                                    "v-if": "+stuType === 1 && +scope.row.stu_type === 2",
                                                                    "size": "mini"
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "label": "是否绑定",
                                                        "show-overflow-tooltip": true,
                                                        "width": 80,
                                                        "v-if": "+cloList === 1",
                                                        "template": {
                                                            "slot-scope": "scope",
                                                            "span": [
                                                                {
                                                                    "undefined": "是（wxid：{{ scope.row.wxid }}）",
                                                                    "v-if": "Number(scope.row.bind) === 1"
                                                                },
                                                                {
                                                                    "undefined": "否",
                                                                    "v-else": true
                                                                }
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "label": "是否进群",
                                                        "show-overflow-tooltip": true,
                                                        "width": 80,
                                                        "v-if": "+cloList === 1",
                                                        "template": {
                                                            "slot-scope": "scope",
                                                            "span": [
                                                                {
                                                                    "undefined": "是",
                                                                    "v-if": "Number(scope.row.group) === 1"
                                                                },
                                                                {
                                                                    "undefined": "否",
                                                                    "v-else": true
                                                                }
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "label": "完课",
                                                        "show-overflow-tooltip": true,
                                                        "prop": "finish",
                                                        "width": 100,
                                                        "v-if": "+cloList === 1"
                                                    },
                                                    {
                                                        "v-if": "+cloList === 1",
                                                        "label": "已点评率",
                                                        "show-overflow-tooltip": true,
                                                        "template": {
                                                            "slot-scope": "scope",
                                                            "span": [
                                                                {
                                                                    "undefined": "-",
                                                                    "v-if": "scope.row.remark_num === 0"
                                                                },
                                                                {
                                                                    "undefined": "{{scope.row.remark_rate}}%({{scope.row.finish_remark_num}}/{{scope.row.remark_num}})",
                                                                    "v-else": true
                                                                }
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "v-if": "+cloList=== 1",
                                                        "label": "未点评",
                                                        "width": 80,
                                                        "template": {
                                                            "slot-scope": "scope",
                                                            "span": [
                                                                {
                                                                    "undefined": "{{ scope.row.wait_remark_num }}",
                                                                    "class":"color-span",
                                                                    "@click":"handleJumpComment(scope.row)",
                                                                    "v-if": "scope.row.wait_remark_num"
                                                                },
                                                                {
                                                                    "undefined": "-",
                                                                    "v-else-if": "scope.row.wait_remark_num === 0"
                                                                },
                                                                {
                                                                    "undefined": "{{ scope.row.wait_remark_num }}",
                                                                    "v-else": true
                                                                }
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "label": "是否转化",
                                                        "show-overflow-tooltip": true,
                                                        "width": 80,
                                                        "v-if": "course_type == 1 && class_status !== 1 && +cloList === 1",
                                                        "template": {
                                                            "slot-scope": "scope",
                                                            "span": [
                                                                {
                                                                    "undefined": "是",
                                                                    "v-if": "Number(scope.row.translate) === 1"
                                                                },
                                                                {
                                                                    "undefined": "否",
                                                                    "style": "color: #E02727",
                                                                    "v-else": true
                                                                }
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "v-if": "+cloList === 1",
                                                        "label": "手机号",
                                                        "template": {
                                                            "slot-scope": "scope",
                                                            "div": {
                                                                "class": "phone-class",
                                                                "span": {
                                                                    "undefined": "{{ scope.row.hide_mobile }}",
                                                                    "el-popover": {
                                                                        "placement": "bottom",
                                                                        "width": 200,
                                                                        "trigger": "click",
                                                                        "content": "studentMobile",
                                                                        "@show": "getPhoneNumber(scope.row.biz_stu_id)",
                                                                        "div": {
                                                                            "undefined": "{{ currentPhoneNumber }}",
                                                                            "class": "bubble"
                                                                        },
                                                                        "el-button": {
                                                                            "undefined": "查看",
                                                                            "class": "table-scan",
                                                                            "type": "text",
                                                                            "slot": "reference",
                                                                            "v-show": "scope.row.hide_mobile !== '无'"
                                                                        }
                                                                    },
                                                                    "outbound-item": {
                                                                        ":isShow": "scope.row.hide_mobile",
                                                                        ":biz_stu_id": "scope.row.biz_stu_id",
                                                                        ":width": 20,
                                                                        ":bottom": 3
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "v-if": "+cloList === 1",
                                                        "prop": "call_in_time",
                                                        "label": "调入时间",
                                                        "width": 200
                                                    },
                                                    {
                                                        "v-if": "+cloList === 1",
                                                        "prop": "call_out_cls",
                                                        "label": "调出班级",
                                                        "width": 200
                                                    },
                                                    {
                                                        "v-if": "+cloList === 1",
                                                        "prop": "call_out_tch",
                                                        "label": "辅导老师",
                                                        "width": 200
                                                    },
                                                    {
                                                        "v-if": "+cloList === 1",
                                                        "prop": "call_out_time",
                                                        "label": "调出时间",
                                                        "width": 200
                                                    },
                                                    {
                                                        "v-if": "+cloList === 1",
                                                        "prop": "call_in_cls",
                                                        "label": "调入班级",
                                                        "width": 200
                                                    },
                                                    {
                                                        "v-if": "+cloList === 1",
                                                        "prop": "call_in_tch",
                                                        "label": "辅导老师",
                                                        "width": 200
                                                    },
                                                    {
                                                        "v-if": "+cloList === 1",
                                                        "prop": "refund_time",
                                                        "label": "退费时间",
                                                        "width": 200
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "class": "grade-info-bottom",
                                            "span": {
                                                "undefined": "已选择{{ selectedPeopleArr} }项",
                                                "class": "info-title"
                                            },
                                            "el-button": [
                                                {
                                                    "undefined": "列表导出",
                                                    "size": "mini",
                                                    "@click.native": "exportExcel"
                                                },
                                                {
                                                    "undefined": "批量转班",
                                                    "size": "mini",
                                                    "@click.native": "convertClass",
                                                    "v-if": "classType == 1 && !isCloseStatus"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            }
                        ]
                    },
                    "learning-report": {
                        ":isShow": "learningReportVisible",
                        ":updateShow": "updateReportShow",
                        ":path": "reportUrl"
                    },
                    "praise": {
                        ":priseInfo": "priseInfo",
                        "v-if": "priseInfo",
                        "ref": "praise"
                    },
                    "iframe": {
                        "ref": "iframe",
                        "class": "info-frame"
                    }
                }
            ],
            "iframe-dialog": {
                "title": "今日学习计划",
                ":width": "'60%'",
                ":isShow": "iframeVisible",
                ":updateShow": "handleCheckLearningPlan",
                ":path": "cls_plan_url"
            },
            "el-dialog": [
                {
                    "title": "请选择转入班级",
                    ":visible.sync": "convertClassDialogShow",
                    "width": "30%",
                    ":before-close": "handleConvertDialogClose",
                    "el-radio-group": {
                        "v-model": "convertIntoClass",
                        "el-radio": {
                            "undefined": "{ {item.cls_name} }({{item.stu_num}}人)",
                            "v-for": "(item) in convertIntoClassList",
                            "v-bind:key": "item.biz_cls_id",
                            ":label": "item.biz_cls_id"
                        }
                    },
                    "span": {
                        "slot": "footer",
                        "class": "dialog-footer",
                        "el-button": [
                            {
                                "undefined": "取 消",
                                "@click": "convertClassDialogShow = false"
                            },
                            {
                                "undefined": "确 定",
                                "type": "primary",
                                "@click": "comfirmConvertClass"
                            }
                        ]
                    }
                },
                {
                    "title": "学员备注修改提示",
                    ":visible.sync": "showModifyBackupDialog",
                    "width": "30%",
                    "center": true,
                    ":before-close": "handleConvertDialogClose",
                    "div": {
                        "class": "dialog-container",
                        "div": [
                            "该批转班学员关联微信备注将会同步修改",
                            "注：此段时间请不要操作矩阵手机。"
                        ]
                    },
                    "span": {
                        "slot": "footer",
                        "class": "dialog-footer",
                        "el-button": {
                            "undefined": "确 定",
                            "type": "primary",
                            "@click": "showModifyBackupDialog = false"
                        }
                    }
                }
            ]
        }
    }
}